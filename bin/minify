#!/usr/bin/php
<?php

require('sys/base.php');

ModuleManager::load('lepton.base.application');
ModuleManager::load('lepton.utils.minify');

class MinifyApp extends ConsoleApplication {
	protected $arguments = "hvo:";
	function usage() { 

	}
	function main($argc,$argv) {
		$mf = new Minifier();
		$if = $this->arguments[0];

		$mt = Lepton::getMimeType($if);

		Console::writeLn("Minifying %s [%s]...", $if, $mt);
		$mf->loadFromFile($if);
		Console::write($mf->minify(Minifier::MFF_MAXIMUM));
	}
}

Lepton::run('MinifyApp');

?>
